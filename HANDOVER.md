# 薬剤発注ナビ 引継書

## 基本情報
| 項目 | 内容 |
|-----|-----|
| **アプリ名** | 薬剤発注ナビ |
| **現行バージョン** | v25.1.0 |
| **最新開発版** | v25.1.0 |
| **最終更新** | 2026年2月3日 |
| **ステータス** | ✅ v25.1.0 法人規定カラー適用完了 |

---

## 概要
医療機関における薬剤発注管理を効率化し、発注漏れを防止するWebアプリケーション。
v25.0で定期発注機能に対応し、v26.0でモバイル操作性と入力安全性を大幅に強化しました。

---

## 技術スタック
- **バックエンド**: Google Apps Script (GAS)
- **フロントエンド**: HTML / CSS / JavaScript
- **データストア**: Google スプレッドシート
- **通知**: Google Chat Webhook
- **スケジュール**: Googleカレンダー

---

## ファイル構成

```
薬剤発注ナビ/
├── HANDOVER.md           # 引継書（本ファイル）
├── versions/             # バージョン履歴
│   ├── v24.0/            # 旧安定版
│   ├── v25.0/            # 定期発注機能追加
│   └── v26.0/            # 最新（UX改善・モバイル対応）
│
└── docs/                 # ドキュメント
    ├── specification_v26.md  # 最新仕様書
    ├── TEST_PLAN_DETAILED_v26.md # 詳細テスト計画書 (PASS済)
    └── HANDOVER.md           # 詳細引継書
```

---

## 主な変更履歴

### v26.0 (2026-01-16) - UX改善・品質保証
- **入力アシスト**: 過去日チェック、重複発注警告、期限自動計算
- **設定機能**: 個人設定（通知設定）の保存機能（PropertiesService）
- **モバイル対応**: リスト項目のスワイプ操作（発注済/削除）
- **品質保証**: 全480項目の静的解析テスト実施済 (PASS)

### v25.0 (2026-01-XX) - 定期発注・UI刷新
- **定期発注**: 毎週・隔週・毎月（日付/曜日）の発注自動生成
- **UI刷新**: スライドショー形式の起動画面、ポップで優しいデザイン

### v24.0
- ファイル分割、エラーハンドリング強化、担当者変更機能など

---

## 次回やること・未実装項目
1. **通知フィルタリングの実装** (Notify.gs)
   - UIの設定値に基づいて通知を出し分けるロジックの実装
   - 現状は設定保存まで完了

2. **PWA化の検討**
   - GASの制約上、完全なPWA化が難しいため保留中

3. **v26.0の本番適用**
   - `versions/v26.0/` のコードを本番環境（SRCフォルダ等）へ反映

---

## 作業再開手順

```
Antigravityに以下を伝えてください：

「Q:\マイドライブ\Antigravity-PJ\薬剤発注ナビ のプロジェクトで作業を再開します。
v26.0の検証が完了している状態です。

確認資料:
- docs/TEST_PLAN_DETAILED_v26.md (検証結果)
- HANDOVER.md (本ファイル)」
```

---

*この引継書は 2026年1月16日 に更新されました*

## デザインガイドライン (2026-02-02追記)
本プロジェクトのデザイン・UI実装は、以下の共通ガイドラインに厳格に準拠してください。
- **基本カラー**: RED (#d2422d) / OHISAMA ORANGE (#ff5100)
- **アクセント**: 必要に応じて指定のカラーパレットから選択
- **詳細資料**: ../共通doc/OHISAMA_DESIGN_GUIDE.md および ../共通doc/OHISAMA_COLORS.png を参照
